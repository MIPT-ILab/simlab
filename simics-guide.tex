\chapter{Дополнительная информация по работе с~Simics} \label{chap:append01}

В данное приложение включены сведения о различных приёмах, используемых при ежедневном использовании Simics, не описанные в главах, посвящённых индивидуальным лабораторным работам.

\section{Обновление workspace}

Для получения последних исправлений ошибок в моделях необходимо использовать самую свежую версию базового пакета Simics из  установленных на кластере. Номер версии определить по файлам, установленным в папке \texttt{/share/simics/simics-4.6/}. В тексте данной работы последней версией будет считаться \textbf{4.6.32}, при этом 4.6 --- это основная версия, а последняя цифра --- номер минорной версии обновления. Он будет использован позже.

Каждая копия workspace характеризуется версиями пакетов, в ней используемых. Номер пакета Simics Base определяет настройки версий остальных пакетов, установленных одновременно с ним. Для того чтобы увидеть список пакетов с их версиями, используйте команду:

\begin{lstlisting}
$ ./simics -v
Simics Base                                        1000    4.6.32    (4051)
Model Library: Intel Core i7 with X58 and ICH10    2075    4.6.21    (4051)
Model Builder                                      1010    4.6.14    (4051)
Extension Builder                                  1012    4.6.6     (4042)
\end{lstlisting}

В примере сверху базовый пакет имеет версию 4.6.32. Новые пакеты будут периодически ставиться на кластере для исправления ошибок в базовых моделях. Для обновления своего workspace используйте команду \texttt{workspace-setup}, находящуюся внутри новой версии базового пакета (версии 4.6.\textbf{<minor>}), выполненную внутри workspace, который вы хотите обновить.

\begin{lstlisting}
$ /share/simics/simics-4.6/simics-4.6.<minor>/bin/workspace-setup
\end{lstlisting}

Также версию Simics можно узнать из командной строки любой запущенной симуляции:

\begin{lstlisting}
simics> version
\end{lstlisting}

\section{Список часто используемых команд Simics}

\begin{center}
\small
\begin{tabularx}{\textwidth}{Xlp{0.4\textwidth}}
%\begin{longtable}{|p{0.3\textwidth}|l|p{0.3\textwidth}|}\
\textbf{Команда}                          & \textbf{Синонимы}  & \textbf{Выполняемая функция}\\\hline
\texttt{help <topic>}                     & \texttt{man}       & Справка по команде, классу или слову topic\\
\texttt{win-help}                         &                    & Открыть окно индексируемой справки \\
\texttt{continue}                         & \texttt{c, r, run} & Начать или продолжить симуляцию\\
\texttt{stop}                             &                    & Остановить симуляцию\\
\texttt{step-cycle [count]}               & \texttt{sc}        & Исполнить count циклов, печатаю следующую инструкцию\\
\texttt{exit}                             & \texttt{quit, q}   & Выйти из симулятора\\
\texttt{run-command-file <script.simics>} &                    & Выполнить скрипт Simics\\
\texttt{pregs [-all]}                     &                    & Распечатать содержимое регистров текущего процессора\\
\texttt{print-time [-all]}                & \texttt{ptime}     & Вывести значение виртуального времени процессора\\
\texttt{win-control}                      &                    & Открыть окно \textbf{Simics Control}\\
\texttt{\%<register name>}                & \texttt{read-reg}  & Прочитать содержимое регистра текущего процессора \\
\texttt{\%<register name> = <val>}        & \texttt{write-reg} & Записать значение в регистр текущего процессора \\
\texttt{output-radix <10|16>}             &                    & Изменить основание используемой для вывода чисел системы счисления\\
\texttt{break <address>}                  &                    & Поставить точку останова по адресу \\
\texttt{delete [id]}                      &                    & Удалить точку останова по её номеру \\
\end{tabularx}

% \end{longtable}
\end{center}



